<!DOCTYPE HTML>

<html>
	<head>
		<title>vandoeselaar.com</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		<script defer src="https://analytics.vandoeselaar.com/script.js" data-website-id="a5086a1a-be10-4dcb-a302-f64cbe0f0f64"></script>
	</head>
	<body class="is-preload">

		<div id="wrapper">

				<header id="header">
						<div class="logo">
						<img src="/images/logo.png" style="width:100%"/>
							</div>
						<div class="content">
							<div class="inner">
								<h1>vandoeselaar.com</h1>
								<p>Freelance developer</p>
								<p>Web applications, Reverse engineering, Embedded systems</p>
								<p>
								HTML, PHP, Javascript, CSS, C, C++, Python </p><br/>
								info<code>&#64;</code>vandoeselaar.com
								<br/><br/>
								<a href="index-1994.html">Since 1994</a>
                                
                                <!-- count.php test -->

                                <p><span id="counter-display" style="display:none;">Loading...</span></p>

							</div>
						</div>
					</header>

				<footer id="footer">
						<p class="copyright">&copy; vandoeselaar.com</p>
					</footer>

			</div>

		<div id="bg"></div>

		<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

            <script>
            	document.addEventListener('DOMContentLoaded', function() {
	                // 1. Definieer de URL van de counter API
	                const apiURL = 'https://tinkering.vandoeselaar.com/count.php';
	                const counterElement = document.getElementById('counter-display');

	                // 2. Roep de API aan met Fetch
	                fetch(apiURL)
	                    .then(response => {
	                        // Controleer of de HTTP-status goed is (200 OK)
	                        if (!response.ok) {
	                            throw new Error(`HTTP fout! Status: ${response.status}`);
	                        }
	                        // Retourneer de response als JSON-object
	                        return response.json();
	                    })
	                    .then(data => {
	                        // 3. Verwerk de JSON-data
	                        if (data.success && data.count !== undefined) {
	                            // Toon de succesvolle tellerwaarde
	                            counterElement.textContent = data.count;
	                        } else {
	                            // Toon een fout als de API wel reageert, maar success: false is
	                            counterElement.textContent = 'Fout (API)';
	                            console.error('API reageerde met een fout:', data.message || 'Onbekende fout.');
	                        }
	                    })
	                    .catch(error => {
	                        // 4. Afhandeling van netwerkfouten (CORS, verbinding, time-out)
	                        counterElement.textContent = 'Fout (Netwerk)';
	                        console.error('Kon teller niet ophalen:', error);
	                    });
	                });
            </script>
            </body>
</html>